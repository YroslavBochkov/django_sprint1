{% extends 'base.html' %}
{% load static %}

{% block title %}
    Лента записей
{% endblock %}

{% block content %}
    </head>
    <body>	   
        <main>
            <div class="container py-5">
                <h1>Лента записей</h1>                        
                <!-- Перебираем в цикле все посты -->
                <hr>
                {% for post in post_list %}
                <article>
                    <ul>
                        <li>
                            Место: {{ post.location }}              
                        </li>
                        <li>
                            Дата: {{ post.date }}
                        </li>
                        <li>
                            Категория: <a href="{% url 'blog:category_posts' category_slug=post.category %}">{{ post.category }}</a>
                        </li>
                    </ul>          
                    <!-- Первые 10 слов -->
                    <p>
                        {{ post.text|truncatewords:10 }}
                    </p>
                    <a href="{% url 'blog:post_detail' post.id %}">Читать полный текст</a>
                </article>
                {% if forloop.last %}
                <hr>
                {% endif %}
                {% endfor %}
            </div>
        </main>
    </body>
{% endblock %}
{% include "includes/footer.html" %}
</html>
